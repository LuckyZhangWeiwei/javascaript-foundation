- 1 js 执行的时候会从上到下执行，遇到函数会创建执行上下文放到执行栈中，执行完毕后会出栈，执行时可能会有异步事件 -> 浏览器内部会调用 webapis

* 2.当我们执行栈都执行完毕后，等到 webapis 执行或者等待时间到达时，会被放入消息队列中（先进先出）

* 3.不停的扫描（事件循环线程，不会阻碍渲染，检测当前的执行栈是否为空，如果为空，从事件队列中取出**一个任务**执行），将队列中的任务拿出来放入到执行栈（上下文）中执行

* 4.当代码执行的时候，还会有一些任务，例如 promise.then - 微任务， 每次执行宏任务的时候，都会单独创建一个微任务队列，宏任务，执行完毕后，会清空整个微任务队列，清空微任务队列后，**有可能**渲染界面，浏览器有刷新频率大约是 16.6 ms，如果没有到 16.6 ms 则不渲染， 如果渲染了界面，然后会调用宏任务

* 5 每循环一次都会执行一个宏任务，清空整个微任务队列，每次循环完毕后，都要看是否渲染界面
